{{- $seoTitle := htmlUnescape site.Title -}}
{{- if .Title -}}
  {{- $seoTitle = printf "%s | %s" (chomp (htmlUnescape .Title)) $seoTitle -}}
{{- end -}}
{{- $seoDescription := "" -}}
{{- if .Params.description -}}
  {{- $seoDescription = .Params.description | chomp -}}
{{- else -}}
  {{- $seoDescription = .Summary -}}
{{- end -}}
{{- $seoImage := "" -}}
{{- if os.FileExists "static/assets/images/share.png" }}
    {{- $seoImage = printf "%sassets/images/share.png" site.BaseURL -}}
{{ end }}
{{- if os.FileExists "static/assets/images/share.jpg" }}
    {{- $seoImage = printf "%sassets/images/share.jpg" site.BaseURL -}}
{{ end }}
{{- if .Params.image }}
  {{- $image := partial "GetMedia" .Params.image -}}
  {{ $seoImage = partial "GetImageUrl" (dict
          "media" $image
          "size" "1200x600"
          "crop" true
        ) }}
{{- end -}}
{{- $seoUrl := .Permalink -}}

<!-- HTML Meta Tags -->
<title>{{ $seoTitle }}</title>
<meta name="description" content="{{ $seoDescription }}">

<!-- Facebook Meta Tags -->
<meta property="og:title" content="{{ $seoTitle }}">
<meta property="og:description" content="{{ $seoDescription }}">
{{- with $seoImage }}
    <meta property="og:image" content="{{ . }}">
{{ end }}
<meta property="og:url" content="{{ $seoUrl }}">
<meta property="og:type" content="website">

<!-- Twitter Meta Tags -->
<meta name="twitter:title" content="{{ $seoTitle }}">
<meta name="twitter:description" content="{{ $seoDescription }}">
{{- with $seoImage }}
    <meta name="twitter:image" content="{{ . }}">
{{ end }}
<meta name="twitter:card" content="summary_large_image">
{{- if site.Data.school.twitter }}
    <meta name="twitter:site" content="@{{ site.Data.school.twitter }}" />
{{ else if site.Data.journal.twitter }}
    <meta name="twitter:site" content="@{{ site.Data.journal.twitter }}" />
{{ end -}}

<!-- Icons -->
{{- if os.FileExists "static/assets/images/favicons/apple-touch-icon.png" }}
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon.png">
{{ end -}}
{{- if os.FileExists "static/assets/images/favicons/favicon-32x32.png" }}
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicons/favicon-32x32.png">
{{ end -}}
{{- if os.FileExists "static/assets/images/favicons/favicon-16x16.png" }}
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicons/favicon-16x16.png">
{{ end -}}
{{- if os.FileExists "static/assets/images/favicons/favicon.ico" }}
  <link rel="icon" type="image/ico" href="/assets/images/favicons/favicon.ico">
{{ end -}}
{{- if os.FileExists "static/assets/images/favicons/favicon.png" }}
  <link rel="icon" type="image/png" href="/assets/images/favicons/favicon.png">
{{ end -}}
{{- if os.FileExists "static/site.webmanifest" }}
  <link rel="manifest" href="/site.webmanifest">
{{ end -}}
{{- if os.FileExists "static/assets/images/favicons/safari-pinned-tab.svg" }}
  <link rel="mask-icon" href="/assets/images/favicons/safari-pinned-tab.svg" color="#000000">
{{ end -}}

<!-- App -->
<meta name="apple-mobile-web-app-title" content="{{ site.Title }}">
<meta name="application-name" content="{{ site.Title }}">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="theme-color" content="#ffffff">
